{"ast":null,"code":"var _jsxFileName = \"/Users/joshparry/sei/projects/marketplace-app-MERN-stack/marketplace-react-frontend/src/components/SearchProduct.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport FadeIn from \"react-fade-in\";\nimport Lottie from \"react-lottie\";\nimport ReactLoading from 'react-loading';\nimport * as legoData from \"./legoloading.json\";\nimport * as doneData from \"./doneloading.json\"; // Created with https://levelup.gitconnected.com/react-loading-screen-tactics-improving-user-experience-9d115ef92d6b\n\nconst defaultOptions = {\n  loop: true,\n  autoplay: true,\n  animationData: legoData.default,\n  rendererSettings: {\n    preserveAspectRatio: \"xMidYMid slice\"\n  }\n};\nconst defaultOptions2 = {\n  loop: false,\n  autoplay: true,\n  animationData: doneData.default,\n  rendererSettings: {\n    preserveAspectRatio: \"xMidYMid slice\"\n  }\n};\n\nclass SearchProduct extends Component {\n  // Step 1 make axios call\n  // step 2 save to state --> display\n  constructor(props) {\n    super(props);\n\n    this.handleParentState = () => {\n      this.setState({\n        searchText: this.props.history.location.state.searchText\n      });\n    };\n\n    this.state = {\n      products: [],\n      loading: undefined,\n      done: undefined,\n      searchText: ''\n    };\n  } // TODO Question for Luke how to best make the API call ? is saving to state the most efficient?\n\n\n  componentDidMount() {\n    // console.log(`location: ${this.props.location.state.searchText}`);\n    // const search = this.props.location.state.searchText\n    // if (search.length > 0) {\n    //   console.log(`The search term is: ${search}`);\n    // } else {\n    //   console.log(`There is nothing in the search term`);\n    // }\n    this.handleParentState();\n    setTimeout(() => {\n      // console.log(this.props.location.state.searchText);\n      // axios.get('http://localhost:4000/products')\n      axios.post('http://localhost:4000/products', {\n        headers: {\n          searchText: this.state.searchText\n        }\n      }).then(res => {\n        console.log('GOT PRODUCTS', res.data);\n        this.setState({\n          products: res.data\n        });\n      }).then(res => {// console.log(this.props.location.state.searchText);\n      }).then(json => {\n        this.setState({\n          loading: true\n        });\n        setTimeout(() => {\n          this.setState({\n            done: true\n          });\n        }, 1000);\n      });\n    }, 1200);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Home\"))), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Cart\")), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Sell\")), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Signup\"))), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Login\"))))), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Welcome to the Search Products \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, !this.state.done ? React.createElement(FadeIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"d-flex justify-content-center align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"fetching pizza\"), !this.state.loading ? React.createElement(Lottie, {\n      options: defaultOptions,\n      height: 120,\n      width: 120,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }) : React.createElement(Lottie, {\n      options: defaultOptions2,\n      height: 120,\n      width: 120,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))) : React.createElement(\"div\", {\n      className: \"all-products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.state.products.length > 0 ? this.state.products.reverse().map(p => React.createElement(Link, {\n      to: \"/product/\".concat(p._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      key: p._id,\n      className: \"listings-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, p.name), React.createElement(\"div\", {\n      className: \"listings-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: p.image,\n      alt: \"item_image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })))) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"propertyResults is still empty\"))));\n  }\n\n}\n\nexport default SearchProduct;","map":{"version":3,"sources":["/Users/joshparry/sei/projects/marketplace-app-MERN-stack/marketplace-react-frontend/src/components/SearchProduct.jsx"],"names":["React","Component","Link","axios","FadeIn","Lottie","ReactLoading","legoData","doneData","defaultOptions","loop","autoplay","animationData","default","rendererSettings","preserveAspectRatio","defaultOptions2","SearchProduct","constructor","props","handleParentState","setState","searchText","history","location","state","products","loading","undefined","done","componentDidMount","setTimeout","post","headers","then","res","console","log","data","json","render","length","reverse","map","p","_id","name","image"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n\nimport FadeIn from \"react-fade-in\";\nimport Lottie from \"react-lottie\";\nimport ReactLoading from 'react-loading';\nimport * as legoData from \"./legoloading.json\";\nimport * as doneData from \"./doneloading.json\";\n\n// Created with https://levelup.gitconnected.com/react-loading-screen-tactics-improving-user-experience-9d115ef92d6b\nconst defaultOptions = {\n   loop: true,\n   autoplay: true,\n   animationData: legoData.default,\n   rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n   }\n}\n\nconst defaultOptions2 = {\n   loop: false,\n   autoplay: true,\n   animationData: doneData.default,\n   rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n   }\n};\n\nclass SearchProduct extends Component {\n\n  // Step 1 make axios call\n\n  // step 2 save to state --> display\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      loading: undefined,\n      done: undefined,\n      searchText: ''\n    }\n  }\n\n  // TODO Question for Luke how to best make the API call ? is saving to state the most efficient?\n  componentDidMount(){\n    // console.log(`location: ${this.props.location.state.searchText}`);\n\n    // const search = this.props.location.state.searchText\n    // if (search.length > 0) {\n    //   console.log(`The search term is: ${search}`);\n    // } else {\n    //   console.log(`There is nothing in the search term`);\n    // }\n\n    this.handleParentState()\n    setTimeout(() => {\n      // console.log(this.props.location.state.searchText);\n     // axios.get('http://localhost:4000/products')\n     axios.post('http://localhost:4000/products', {\n       headers: {searchText: this.state.searchText}\n     })\n     .then( res => {\n       console.log('GOT PRODUCTS', res.data);\n       this.setState({ products: res.data})\n     })\n     .then( res => {\n       // console.log(this.props.location.state.searchText);\n     })\n     .then(json => {\n        this.setState({ loading: true });\n        setTimeout(() => {\n           this.setState({ done: true });\n        }, 1000);\n     });\n  }, 1200);\n\n  }\n\n  handleParentState = () => {\n    this.setState({searchText: this.props.history.location.state.searchText})\n  }\n\n\n  render(){\n    return(\n      <div>\n        <nav>\n          <ul className=\"nav-list\">\n            <li className=\"nav-item-left\"><div className=\"nav-item\"><Link to=\"/\">Home</Link></div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\">Cart</div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\">Sell</div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\"><Link to=\"/signup\">Signup</Link></div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\"><Link to=\"/login\">Login</Link></div></li>\n          </ul>\n        </nav>\n\n        <h3>Welcome to the Search Products </h3>\n\n        <div>\n            {!this.state.done ? (\n              <FadeIn>\n                <div class=\"d-flex justify-content-center align-items-center\">\n                  <h1>fetching pizza</h1>\n                  {!this.state.loading ? (\n                    <Lottie options={defaultOptions} height={120} width={120} />\n                  ) : (\n                    <Lottie options={defaultOptions2} height={120} width={120} />\n                  )}\n                </div>\n              </FadeIn>\n            ) : (\n              <div className=\"all-products\">\n                {\n                  this.state.products.length > 0\n                  ?\n                  this.state.products.reverse().map( p =>\n                    <Link to={`/product/${p._id}`}>\n                      <div className='products'>\n                        <div key={p._id} className='listings-left'>\n                          {p.name}\n                        </div>\n                        <div className='listings-right'>\n                          <img src={p.image} alt=\"item_image\" />\n                        </div>\n                        <br></br>\n                      </div>\n                    </Link>\n                  )\n                  :\n                 <p>propertyResults is still empty</p>\n                }\n              </div>\n            )}\n         </div>\n\n      </div>\n    )\n  }\n}\n\nexport default SearchProduct\n"]},"metadata":{},"sourceType":"module"}