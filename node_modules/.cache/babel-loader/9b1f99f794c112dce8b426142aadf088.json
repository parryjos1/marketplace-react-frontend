{"ast":null,"code":"var _jsxFileName = \"/Users/joshparry/sei/projects/marketplace-app-MERN-stack/marketplace-react-frontend/src/components/ProductPage.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass Product extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCartClick = e => {\n      e.preventDefault();\n      console.log('clicked');\n      const authToken = localStorage.getItem('authToken');\n      let body = {\n        name: this.state.productName,\n        price: this.state.price,\n        seller: this.state.userId,\n        sellerName: this.state.userName,\n        image: this.state.cloudinaryURL,\n        productID: this.state.productID\n      };\n      axios.post(\"http://localhost:4000/cartadd\", body, {\n        headers: {\n          Authorization: \"Bearer \" + authToken\n        }\n      }).then(res => {\n        console.log('New Item submitted', res); // this.updateUserState( res );\n      }).catch(err => console.warn('SELL USER AJAX ERROR!', err)); // this.props.history.push({\n      //   pathname: '/cart',\n      //   // search: '?query=abc',\n      //   state: {\n      //     price: this.state.price,\n      //     name: this.state.productName,\n      //     image: this.state.cloudinaryURL\n      //\n      //   }\n      // })\n    };\n\n    this.state = {\n      userName: '',\n      userId: '',\n      email: '',\n      imageText: '',\n      price: '',\n      cloudinaryURL: '',\n      keywords: [],\n      productName: '',\n      productID: ''\n    };\n  }\n\n  componentDidMount() {\n    const authToken = localStorage.getItem('authToken');\n    const productId = this.props.match.params.id;\n    console.log(\"the id = \".concat(this.props.match.params.id));\n    axios.get('http://localhost:4000/products/identifyseller', {\n      headers: {\n        Authorization: \"Bearer \" + authToken\n      }\n    }).then(res => {\n      console.log('GOT USER', res);\n      this.setState({\n        userId: res.data.user._id\n      }); // this.updateUserState( res );\n    }).catch(err => console.warn('SELL USER AJAX ERROR!', err));\n    axios.get(\"http://localhost:4000/product/\".concat(productId), {\n      headers: {\n        Authorization: \"Bearer \" + authToken\n      }\n    }).then(res => {\n      console.log('GOT PRODUCT', res);\n      this.setState({\n        userName: res.data[0].sellerName,\n        cloudinaryURL: res.data[0].image,\n        price: res.data[0].price,\n        keywords: res.data[0].keywords,\n        productName: res.data[0].name,\n        productID: res.data[0]._id\n      });\n    }).catch(err => console.warn('PROBLEM GETTING ERROR!', err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Home\"))), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Cart\")), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/sell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Sell\"))), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Signup\"))), React.createElement(\"li\", {\n      className: \"nav-item-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Login\"))))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Welcome to the Product page \"), React.createElement(\"button\", {\n      onClick: this.onCartClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Add to a la carte\"), React.createElement(\"div\", {\n      className: \"product-page-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"product-page-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.productName), React.createElement(\"div\", {\n      className: \"product-page-price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.price), React.createElement(\"img\", {\n      src: this.state.cloudinaryURL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Product;","map":{"version":3,"sources":["/Users/joshparry/sei/projects/marketplace-app-MERN-stack/marketplace-react-frontend/src/components/ProductPage.jsx"],"names":["React","Component","Link","axios","Product","constructor","props","onCartClick","e","preventDefault","console","log","authToken","localStorage","getItem","body","name","state","productName","price","seller","userId","sellerName","userName","image","cloudinaryURL","productID","post","headers","Authorization","then","res","catch","err","warn","email","imageText","keywords","componentDidMount","productId","match","params","id","get","setState","data","user","_id","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n\nclass Product extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      userName: '',\n      userId: '',\n      email: '',\n      imageText: '',\n      price: '',\n      cloudinaryURL: '',\n      keywords: [],\n      productName: '',\n      productID: ''\n    }\n  }\n\n  componentDidMount(){\n    const authToken = localStorage.getItem('authToken');\n    const productId = this.props.match.params.id;\n    console.log(`the id = ${this.props.match.params.id}`);\n\n    axios.get('http://localhost:4000/products/identifyseller', {\n      headers: {\n        Authorization: \"Bearer \" + authToken\n      }\n    })\n    .then( res => {\n      console.log('GOT USER', res);\n      this.setState({userId: res.data.user._id})\n      // this.updateUserState( res );\n    })\n    .catch(err => console.warn('SELL USER AJAX ERROR!', err) );\n\n    axios.get(`http://localhost:4000/product/${productId}`, {\n      headers: {\n        Authorization: \"Bearer \" + authToken\n      }\n    })\n    .then( res => {\n      console.log('GOT PRODUCT', res);\n      this.setState({\n        userName: res.data[0].sellerName,\n        cloudinaryURL: res.data[0].image,\n        price: res.data[0].price,\n        keywords: res.data[0].keywords,\n        productName: res.data[0].name,\n        productID: res.data[0]._id\n      })\n    })\n    .catch(err => console.warn('PROBLEM GETTING ERROR!', err) );\n  }\n\n  onCartClick = (e) => {\n    e.preventDefault()\n    console.log('clicked');\n\n    const authToken = localStorage.getItem('authToken');\n\n    let body = {\n      name: this.state.productName,\n      price: this.state.price,\n      seller: this.state.userId,\n      sellerName: this.state.userName,\n      image: this.state.cloudinaryURL,\n      productID: this.state.productID\n    }\n\n    axios.post(\"http://localhost:4000/cartadd\", body, {\n      headers: { Authorization: \"Bearer \" + authToken }\n    })\n    .then( res => {\n      console.log('New Item submitted', res);\n      // this.updateUserState( res );\n    })\n    .catch(err => console.warn('SELL USER AJAX ERROR!', err) );\n\n    // this.props.history.push({\n    //   pathname: '/cart',\n    //   // search: '?query=abc',\n    //   state: {\n    //     price: this.state.price,\n    //     name: this.state.productName,\n    //     image: this.state.cloudinaryURL\n    //\n    //   }\n    // })\n\n  }\n\n  render(){\n    return(\n      <div>\n        <nav>\n          <ul className=\"nav-list\">\n            <li className=\"nav-item-left\"><div className=\"nav-item\"><Link to=\"/\">Home</Link></div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\">Cart</div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\"><Link to=\"/sell\">Sell</Link></div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\"><Link to=\"/signup\">Signup</Link></div></li>\n            <li className=\"nav-item-right\"><div className=\"nav-item\"><Link to=\"/login\">Login</Link></div></li>\n          </ul>\n        </nav>\n        <p>Welcome to the Product page </p>\n        <button onClick={this.onCartClick}>Add to a la carte</button>\n        <div className=\"product-page-container\">\n          <div className=\"product-page-name\">{this.state.productName}</div>\n          <div className=\"product-page-price\">{this.state.price}</div>\n          <img src={this.state.cloudinaryURL} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Product\n"]},"metadata":{},"sourceType":"module"}