{"ast":null,"code":"'use strict';\n\nconst __ = require('underscore');\n\nclass Request {\n  constructor(options) {\n    options = options || {};\n    this._image = options.image;\n    this._features = options.features || [];\n  }\n\n  setImage(image) {\n    this._image = image;\n    return this;\n  }\n\n  addFeature(feature) {\n    this._features.push(feature);\n\n    return this;\n  }\n\n  build() {\n    return new Promise((resolve, reject) => {\n      this._image.load().then(content => {\n        resolve({\n          image: {\n            content: content\n          },\n          features: __.map(this._features, f => f.build())\n        });\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n}\n\nmodule.exports = Request;","map":null,"metadata":{},"sourceType":"script"}